/**
 * å·¥å…·å“åº”æ ¼å¼å…¬å…±æç¤ºè¯
 */

export const TOOL_RESPONSE_PROMPTS = {
  // åŸºç¡€å“åº”æ ¼å¼
  base: `ä»¥ç®€æ´ã€ä¸€è‡´çš„æ ¼å¼å±•ç¤ºå·¥å…·ç»“æžœã€‚`,

  // æ–‡ä»¶æ“ä½œç±»
  fileOperations: `æ–‡ä»¶æ“ä½œç»“æžœæ ¼å¼ï¼š
- å¼€å¤´ç”¨âœ…è¡¨ç¤ºæˆåŠŸï¼ŒâŒè¡¨ç¤ºå¤±è´¥
- åŒ…å«å®Œæ•´çš„æ–‡ä»¶è·¯å¾„
- å†…å®¹è¶…è¿‡5è¡Œæ—¶åªæ˜¾ç¤ºå‰5è¡Œï¼Œå¹¶æç¤º"... (+Nè¡Œ)"
- ä»£ç å†…å®¹ä½¿ç”¨è¡Œå·æ ¼å¼åŒ–`,

  // æœç´¢ç±»
  search: `æœç´¢ç»“æžœæ ¼å¼ï¼š
- å¼€å¤´ç”¨ðŸ”è¡¨ç¤ºæœç´¢æ“ä½œ
- æ˜¾ç¤ºæ‰¾åˆ°çš„æ¡ç›®æ•°é‡
- æ¯ä¸ªç»“æžœå•ç‹¬ä¸€è¡Œ
- è¶…è¿‡10ä¸ªç»“æžœæ—¶æˆªæ–­å¹¶æç¤º`,

  // å‘½ä»¤æ‰§è¡Œç±»
  command: `å‘½ä»¤æ‰§è¡Œç»“æžœæ ¼å¼ï¼š
- å¼€å¤´ç”¨$è¡¨ç¤ºæ‰§è¡Œçš„å‘½ä»¤
- ç›´æŽ¥æ˜¾ç¤ºæ ‡å‡†è¾“å‡º
- é”™è¯¯ä¿¡æ¯ç”¨[ERROR]å‰ç¼€æ ‡è¯†
- ä¸æ·»åŠ é¢å¤–è§£é‡Šæ–‡å­—`,

  // ç»Ÿä¸€å·¥å…·
  sharedUtils: {
    // è¡Œå·æ ¼å¼åŒ–å·¥å…·
    lineNumbers: (content: string, startLine = 1) => {
      return content
        .split('\n')
        .map((line, i) => `${(i + startLine).toString().padStart(4)}: ${line}`)
        .join('\n')
    },

    // ç»“æžœæˆªæ–­æç¤º
    truncation: (total: number, shown: number) => 
      shown < total ? `... (+${total - shown}æ›´å¤š)` : '',

    // æ–‡ä»¶å¤§å°æ ¼å¼åŒ–
    fileSize: (bytes: number) => {
      if (bytes < 1024) return `${bytes}B`
      if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(1)}KB`
      return `${(bytes / 1024 / 1024).toFixed(1)}MB`
    }
  }
} as const